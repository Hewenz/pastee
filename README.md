# Pastee - è·¨å¹³å°å‰ªè´´æ¿ç®¡ç†å·¥å…·

ä½¿ç”¨ Rust + Tauri æ„å»ºçš„è½»é‡ å…è´¹ ç¦»çº¿çš„å‰ªè´´æ¿ç®¡ç†å·¥å…·ã€‚

## ğŸ¯ é¡¹ç›®çŠ¶æ€

**å½“å‰é˜¶æ®µ**: Phase 4 - å¼€å‘ä¸å®ç° (2026-01-13)

### âœ… å·²å®ŒæˆåŠŸèƒ½

- [x] **æ•°æ®åº“å±‚** - SQLite è¿ç§»ç³»ç»Ÿï¼Œæ”¯æŒ tag æ•°ç»„
- [x] **å‰ªè´´æ¿ç›‘å¬** - å®æ—¶ç›‘å¬æ–‡æœ¬ã€HTMLã€å›¾ç‰‡ã€æ–‡ä»¶
- [x] **é¢œè‰²æ£€æµ‹** - æ”¯æŒ HEXã€RGB/RGBAã€HSL/HSLA å¤šç§æ ¼å¼
- [x] **æœç´¢åŠŸèƒ½** - æ”¯æŒä¸­æ–‡/æ—¥æ–‡/éŸ©æ–‡çš„å…¨æ–‡æœç´¢ï¼ˆLIKE æŸ¥è¯¢ï¼‰
- [x] **IPC æ¥å£** - 5 ä¸ªæ ¸å¿ƒå‘½ä»¤ + äº‹ä»¶æ¨é€
- [x] **å…¨å±€å¿«æ·é”®** - è‡ªåŠ¨æƒé™æ£€æµ‹å’Œè®¾ç½®æ‰“å¼€åŠŸèƒ½
- [x] **Tray èœå•** - æ‰˜ç›˜å›¾æ ‡é›†æˆï¼ˆå½“å‰å…³é—­ç”¨äºæµ‹è¯•ï¼‰
- [x] **è°ƒè¯•ç•Œé¢** - Debug Page ç”¨äºåŠŸèƒ½éªŒè¯
- [x] **å®Œæ•´æµ‹è¯•** - 53 ä¸ªå•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•

### ğŸ“‹ æ ¸å¿ƒ API

| å‘½ä»¤ | ç”¨é€” |
|------|------|
| `get_recent_clips(limit, offset)` | è·å–æœ€è¿‘å‰ªè´´æ¿è®°å½• |
| `search_clips(query)` | æœç´¢å‰ªè´´æ¿å†…å®¹ |
| `get_clip_content(id)` | è·å–å®Œæ•´å†…å®¹ |
| `toggle_pin(id)` | åˆ‡æ¢ç½®é¡¶çŠ¶æ€ |
| `delete_clip(id)` | åˆ é™¤è®°å½• |
| `open_accessibility_settings()` | æ‰“å¼€ç³»ç»Ÿè®¾ç½®ï¼ˆmacOSï¼‰ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
pastee/
â”œâ”€â”€ ai/                          # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ master_context.md       # é¡¹ç›®æ€»ä½“ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ backend_quick_reference.md
â”‚   â”œâ”€â”€ data_directory_quick_ref.md
â”‚   â””â”€â”€ migration_guide.md       # æ•°æ®åº“è¿ç§»æŒ‡å—
â”‚
â”œâ”€â”€ src/                         # å‰ç«¯ React
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ DebugPage.tsx       # è°ƒè¯•ç•Œé¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ tauri.ts            # Tauri IPC æ¥å£
â”‚
â”œâ”€â”€ src-tauri/                   # åç«¯ Rust
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs              # åº”ç”¨ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ clipboard.rs        # å‰ªè´´æ¿ç›‘å¬
â”‚   â”‚   â”œâ”€â”€ persist.rs          # æ•°æ®æŒä¹…åŒ–
â”‚   â”‚   â””â”€â”€ setting.rs          # è®¾ç½®ç®¡ç†
â”‚   â”œâ”€â”€ migrations/             # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â””â”€â”€â”€ 001_init.sql
â”‚   â””â”€â”€ tests/                  # å•å…ƒæµ‹è¯•
â”‚
â”œâ”€â”€ HOTKEY_ACCESSIBILITY.md      # å¿«æ·é”®å’Œæƒé™å¤„ç†æ–‡æ¡£
â”œâ”€â”€ QUICK_REFERENCE.md           # å¿«é€Ÿå‚è€ƒå¡ç‰‡
â””â”€â”€ package.json
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+ & Bun
- Rust 1.70+
- macOS 12+ æˆ– Windows 10+

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡
cd /Users/kylin/pastee
bun run tauri dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
bun tauri build
```

## ğŸ“Š æµ‹è¯•

```bash
cd src-tauri

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_add_text
cargo test --test db_tests
```

**æµ‹è¯•è¦†ç›–ç‡**: 53 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ âœ…

## ğŸ”§ é‡è¦æ–‡æ¡£

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| [ai/master_context.md](ai/master_context.md) | é¡¹ç›®æ€»ä½“æ¶æ„å’Œéœ€æ±‚è§„æ ¼ |
| [ai/migration_guide.md](ai/migration_guide.md) | æ•°æ®åº“è¿ç§»ç®¡ç†æŒ‡å— |
| [HOTKEY_ACCESSIBILITY.md](HOTKEY_ACCESSIBILITY.md) | å¿«æ·é”®æƒé™å¤„ç†å®ç°è¯¦è§£ |
| [QUICK_REFERENCE.md](QUICK_REFERENCE.md) | å¿«é€Ÿå‚è€ƒå’Œå¸¸è§å‘½ä»¤ |
| [src-tauri/tests/README.md](src-tauri/tests/README.md) | æµ‹è¯•æ¡†æ¶è¯´æ˜ |

## ğŸ® ä½¿ç”¨ Debug Page

1. **å¯åŠ¨åº”ç”¨** - `bun run tauri dev`
2. **æ‰“å¼€æµè§ˆå™¨** - åº”ç”¨ä¼šè‡ªåŠ¨æ‰“å¼€
3. **åŠŸèƒ½æ¼”ç¤º**:
   - é¡¶éƒ¨æœç´¢æ¡†ï¼šå®æ—¶æœç´¢å‰ªè´´æ¿å†…å®¹
   - ç±»å‹è¿‡æ»¤æŒ‰é’®ï¼šæŒ‰å†…å®¹ç±»å‹ç­›é€‰
   - å¿«æ·é”®ä¿¡æ¯ï¼šç‚¹å‡»ã€Œæ˜¾ç¤ºå¸®åŠ©ã€äº†è§£æƒé™è®¾ç½®

## ğŸ“ æ•°æ®å­˜å‚¨

æ•°æ®é»˜è®¤å­˜å‚¨åœ¨ `$HOME/Documents/pastee/`ï¼š

```
~/Documents/pastee/
â”œâ”€â”€ clippy.db        # SQLite æ•°æ®åº“
â”œâ”€â”€ clippy.db-shm    # å…±äº«å†…å­˜æ–‡ä»¶
â”œâ”€â”€ clippy.db-wal    # é¢„å†™æ—¥å¿—
â””â”€â”€ images/          # å›¾ç‰‡å­˜å‚¨ç›®å½•
```

## ğŸ” éšç§ä¸å®‰å…¨

- âœ… **å®Œå…¨ç¦»çº¿** - æ— ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®ä»…å­˜æœ¬åœ°
- âœ… **æœ¬åœ°åŠ å¯†** - SQLite æ”¯æŒåŠ å¯†æ¨¡å¼ï¼ˆå¯æ‰©å±•ï¼‰
- âœ… **åº”ç”¨é»‘åå•** - è‡ªåŠ¨è·³è¿‡å¯†ç ç®¡ç†å™¨ç­‰æ•æ„Ÿåº”ç”¨
- âœ… **ç”¨æˆ·æ§åˆ¶** - æ‰€æœ‰æ•°æ®ç”¨æˆ·å¯éšæ—¶åˆ é™¤

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯**: åœ¨ `src-tauri/src/` ä¿®æ”¹å¯¹åº”æ¨¡å—
2. **IPC å‘½ä»¤**: åœ¨ `src-tauri/src/lib.rs` å¢åŠ  `#[tauri::command]`
3. **å‰ç«¯**: åœ¨ `src/lib/tauri.ts` å¯¼å‡ºå¯¹åº”å‡½æ•°
4. **æµ‹è¯•**: åœ¨ `src-tauri/tests/` å¢åŠ æµ‹è¯•ç”¨ä¾‹

### ä¿®æ”¹æ•°æ®åº“ Schema

1. åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶: `src-tauri/migrations/00X_description.sql`
2. åœ¨ `src-tauri/src/persist.rs` ä¸­ `include_str!()` å¼•å…¥
3. éµå¾ª [è¿ç§»æŒ‡å—](ai/migration_guide.md)

## ğŸ“ å½“å‰çŠ¶æ€

- **æ„å»º**: âœ… ç¼–è¯‘æˆåŠŸ
- **æµ‹è¯•**: âœ… 53/53 é€šè¿‡
- **éƒ¨ç½²**: ğŸ“¦ å¯æ„å»ºå‘è¡Œç‰ˆæœ¬

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**æœ€åæ›´æ–°**: 2026-01-13  
**ç»´æŠ¤è€…**: AI Assistant
